[2025-06-17T21:15:22.081+0400] {{local_task_job_runner.py:123}} INFO - ::group::Pre task execution logs
[2025-06-17T21:15:22.135+0400] {{taskinstance.py:2614}} INFO - Dependencies all met for dep_context=non-requeueable deps ti=<TaskInstance: breast_cancer_ml_pipeline.evaluate_model manual__2025-06-17T17:10:15.385059+00:00 [queued]>
[2025-06-17T21:15:22.166+0400] {{taskinstance.py:2614}} INFO - Dependencies all met for dep_context=requeueable deps ti=<TaskInstance: breast_cancer_ml_pipeline.evaluate_model manual__2025-06-17T17:10:15.385059+00:00 [queued]>
[2025-06-17T21:15:22.167+0400] {{taskinstance.py:2867}} INFO - Starting attempt 1 of 3
[2025-06-17T21:15:22.203+0400] {{taskinstance.py:2890}} INFO - Executing <Task(PythonOperator): evaluate_model> on 2025-06-17 17:10:15.385059+00:00
[2025-06-17T21:15:22.225+0400] {{logging_mixin.py:190}} WARNING - /Users/yuriy.samorodov/Documents/МФТИ/Семестр 2/Data Engineering/Exam/ml-pipeline-project/venv/lib/python3.12/site-packages/***/task/task_runner/standard_task_runner.py:70 DeprecationWarning: This process (pid=49724) is multi-threaded, use of fork() may lead to deadlocks in the child.
[2025-06-17T21:15:22.227+0400] {{standard_task_runner.py:72}} INFO - Started process 49752 to run task
[2025-06-17T21:15:22.227+0400] {{standard_task_runner.py:104}} INFO - Running: ['***', 'tasks', 'run', 'breast_cancer_ml_pipeline', 'evaluate_model', 'manual__2025-06-17T17:10:15.385059+00:00', '--job-id', '24', '--raw', '--subdir', 'DAGS_FOLDER/ml_pipeline_dag.py', '--cfg-path', '/var/folders/1f/q4s2m7nd4h11_dlypgrn202w0000gn/T/tmpzpm6wepl']
[2025-06-17T21:15:22.240+0400] {{standard_task_runner.py:105}} INFO - Job 24: Subtask evaluate_model
[2025-06-17T21:15:22.461+0400] {{task_command.py:467}} INFO - Running <TaskInstance: breast_cancer_ml_pipeline.evaluate_model manual__2025-06-17T17:10:15.385059+00:00 [running]> on host 1.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.ip6.arpa
[2025-06-17T21:15:23.153+0400] {{taskinstance.py:3134}} INFO - Exporting env vars: AIRFLOW_CTX_DAG_EMAIL='admin@example.com' AIRFLOW_CTX_DAG_OWNER='data-engineer' AIRFLOW_CTX_DAG_ID='breast_cancer_ml_pipeline' AIRFLOW_CTX_TASK_ID='evaluate_model' AIRFLOW_CTX_EXECUTION_DATE='2025-06-17T17:10:15.385059+00:00' AIRFLOW_CTX_TRY_NUMBER='1' AIRFLOW_CTX_DAG_RUN_ID='manual__2025-06-17T17:10:15.385059+00:00'
[2025-06-17T21:15:23.156+0400] {{taskinstance.py:732}} INFO - ::endgroup::
[2025-06-17T21:15:23.184+0400] {{logging_mixin.py:190}} INFO - Рабочая директория установлена в: /Users/yuriy.samorodov/Documents/МФТИ/Семестр 2/Data Engineering/Exam/ml-pipeline-project
[2025-06-17T21:15:23.186+0400] {{ml_pipeline_dag.py:352}} INFO - === НАЧАЛО ОЦЕНКИ МОДЕЛИ ===
[2025-06-17T21:15:23.234+0400] {{ml_pipeline_dag.py:401}} INFO -  Получены данные через XCom:
[2025-06-17T21:15:23.235+0400] {{ml_pipeline_dag.py:402}} INFO -    - Путь к модели: results/models/current_model.joblib
[2025-06-17T21:15:23.239+0400] {{ml_pipeline_dag.py:403}} INFO -    - Тестовые данные: (114, 30)
[2025-06-17T21:15:23.240+0400] {{ml_pipeline_dag.py:404}} INFO -    - Тип модели: LogisticRegression
[2025-06-17T21:15:23.263+0400] {{metrics_calculator.py:348}} INFO - Начало полной оценки модели
[2025-06-17T21:15:23.268+0400] {{metrics_calculator.py:69}} INFO - Расчет основных метрик классификации
[2025-06-17T21:15:23.310+0400] {{metrics_calculator.py:90}} INFO - Основные метрики:
[2025-06-17T21:15:23.311+0400] {{metrics_calculator.py:92}} INFO -   accuracy: 0.9737
[2025-06-17T21:15:23.312+0400] {{metrics_calculator.py:92}} INFO -   precision: 0.9737
[2025-06-17T21:15:23.312+0400] {{metrics_calculator.py:92}} INFO -   recall: 0.9737
[2025-06-17T21:15:23.313+0400] {{metrics_calculator.py:92}} INFO -   f1_score: 0.9736
[2025-06-17T21:15:23.314+0400] {{metrics_calculator.py:92}} INFO -   precision_macro: 0.9741
[2025-06-17T21:15:23.315+0400] {{metrics_calculator.py:92}} INFO -   recall_macro: 0.9692
[2025-06-17T21:15:23.316+0400] {{metrics_calculator.py:92}} INFO -   f1_score_macro: 0.9716
[2025-06-17T21:15:23.317+0400] {{metrics_calculator.py:92}} INFO -   precision_binary: 0.9756
[2025-06-17T21:15:23.317+0400] {{metrics_calculator.py:92}} INFO -   recall_binary: 0.9524
[2025-06-17T21:15:23.318+0400] {{metrics_calculator.py:92}} INFO -   f1_score_binary: 0.9639
[2025-06-17T21:15:23.319+0400] {{metrics_calculator.py:107}} INFO - Расчет метрик на основе вероятностей
[2025-06-17T21:15:23.328+0400] {{metrics_calculator.py:141}} INFO - Вероятностные метрики:
[2025-06-17T21:15:23.328+0400] {{metrics_calculator.py:144}} INFO -   roc_auc: 0.9960
[2025-06-17T21:15:23.329+0400] {{metrics_calculator.py:159}} INFO - Расчет матрицы ошибок
[2025-06-17T21:15:23.345+0400] {{metrics_calculator.py:187}} INFO - Матрица ошибок рассчитана. Форма: (2, 2)
[2025-06-17T21:15:23.346+0400] {{metrics_calculator.py:189}} INFO -   Истинно положительные: 40
[2025-06-17T21:15:23.348+0400] {{metrics_calculator.py:190}} INFO -   Истинно отрицательные: 71
[2025-06-17T21:15:23.348+0400] {{metrics_calculator.py:191}} INFO -   Ложно положительные: 1
[2025-06-17T21:15:23.349+0400] {{metrics_calculator.py:192}} INFO -   Ложно отрицательные: 2
[2025-06-17T21:15:23.350+0400] {{metrics_calculator.py:193}} INFO -   Чувствительность: 0.9524
[2025-06-17T21:15:23.351+0400] {{metrics_calculator.py:194}} INFO -   Специфичность: 0.9861
[2025-06-17T21:15:23.352+0400] {{metrics_calculator.py:208}} INFO - Создание визуализации матрицы ошибок
[2025-06-17T21:15:25.456+0400] {{metrics_calculator.py:236}} INFO - Матрица ошибок сохранена: results/confusion_matrix.png
[2025-06-17T21:15:25.457+0400] {{metrics_calculator.py:252}} INFO - Создание ROC-кривой
[2025-06-17T21:15:26.496+0400] {{metrics_calculator.py:285}} INFO - ROC-кривая сохранена: results/roc_curve.png
[2025-06-17T21:15:26.497+0400] {{metrics_calculator.py:301}} INFO - Создание кривой Precision-Recall
[2025-06-17T21:15:27.410+0400] {{metrics_calculator.py:334}} INFO - Кривая Precision-Recall сохранена: results/precision_recall_curve.png
[2025-06-17T21:15:27.411+0400] {{metrics_calculator.py:371}} INFO - Полная оценка модели завершена
[2025-06-17T21:15:27.412+0400] {{metrics_calculator.py:372}} INFO - Основные метрики на тестовых данных:
[2025-06-17T21:15:27.413+0400] {{metrics_calculator.py:374}} INFO -   accuracy: 0.9737
[2025-06-17T21:15:27.414+0400] {{metrics_calculator.py:374}} INFO -   precision: 0.9737
[2025-06-17T21:15:27.414+0400] {{metrics_calculator.py:374}} INFO -   recall: 0.9737
[2025-06-17T21:15:27.415+0400] {{metrics_calculator.py:374}} INFO -   f1_score: 0.9736
[2025-06-17T21:15:27.416+0400] {{metrics_calculator.py:374}} INFO -   precision_macro: 0.9741
[2025-06-17T21:15:27.416+0400] {{metrics_calculator.py:374}} INFO -   recall_macro: 0.9692
[2025-06-17T21:15:27.417+0400] {{metrics_calculator.py:374}} INFO -   f1_score_macro: 0.9716
[2025-06-17T21:15:27.418+0400] {{metrics_calculator.py:374}} INFO -   precision_binary: 0.9756
[2025-06-17T21:15:27.420+0400] {{metrics_calculator.py:374}} INFO -   recall_binary: 0.9524
[2025-06-17T21:15:27.421+0400] {{metrics_calculator.py:374}} INFO -   f1_score_binary: 0.9639
[2025-06-17T21:15:27.424+0400] {{metrics_calculator.py:391}} INFO - Метрики сохранены: results/metrics.json
[2025-06-17T21:15:27.425+0400] {{metrics_calculator.py:405}} INFO - Генерация отчета об оценке модели
[2025-06-17T21:15:27.426+0400] {{metrics_calculator.py:461}} INFO - Отчет об оценке сохранен: results/evaluation_report.md
[2025-06-17T21:15:27.505+0400] {{ml_pipeline_dag.py:457}} INFO -  Модель оценена:
[2025-06-17T21:15:27.506+0400] {{ml_pipeline_dag.py:458}} INFO -    - Источник данных: XCom
[2025-06-17T21:15:27.507+0400] {{ml_pipeline_dag.py:459}} INFO -    - Точность: 0.9737
[2025-06-17T21:15:27.508+0400] {{ml_pipeline_dag.py:460}} INFO -    - Precision: 0.9737
[2025-06-17T21:15:27.508+0400] {{ml_pipeline_dag.py:461}} INFO -    - Recall: 0.9737
[2025-06-17T21:15:27.509+0400] {{ml_pipeline_dag.py:462}} INFO -    - F1-score: 0.9736
[2025-06-17T21:15:27.510+0400] {{ml_pipeline_dag.py:463}} INFO -    - ROC AUC: 0.0000
[2025-06-17T21:15:27.510+0400] {{ml_pipeline_dag.py:464}} INFO - === ОЦЕНКА МОДЕЛИ ЗАВЕРШЕНА ===
[2025-06-17T21:15:27.511+0400] {{python.py:240}} INFO - Done. Returned value was: {'status': 'success', 'accuracy': 0.9736842105263158, 'f1_score': 0.9736164257756981, 'roc_auc': 0, 'data_source': 'xcom'}
[2025-06-17T21:15:27.568+0400] {{taskinstance.py:341}} INFO - ::group::Post task execution logs
[2025-06-17T21:15:27.569+0400] {{taskinstance.py:353}} INFO - Marking task as SUCCESS. dag_id=breast_cancer_ml_pipeline, task_id=evaluate_model, run_id=manual__2025-06-17T17:10:15.385059+00:00, execution_date=20250617T171015, start_date=20250617T171522, end_date=20250617T171527
[2025-06-17T21:15:27.718+0400] {{local_task_job_runner.py:266}} INFO - Task exited with return code 0
[2025-06-17T21:15:28.010+0400] {{taskinstance.py:3901}} INFO - 1 downstream tasks scheduled from follow-on schedule check
[2025-06-17T21:15:28.012+0400] {{local_task_job_runner.py:245}} INFO - ::endgroup::
